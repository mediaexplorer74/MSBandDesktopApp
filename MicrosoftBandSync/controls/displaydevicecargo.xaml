<UserControl x:Class="DesktopSyncApp.DisplayDeviceCargo"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:DesktopSyncApp"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006">
  <Grid>
    <Image HorizontalAlignment="Left" VerticalAlignment="Top" Source="/Resources/device-face-cargo.png"
           Stretch="None"/>
    <StackPanel Margin="79,35,0,0" HorizontalAlignment="Left" VerticalAlignment="Top" Orientation="Horizontal">
      <StackPanel HorizontalAlignment="Left" VerticalAlignment="Top" Orientation="Horizontal">
        <Grid>
          <Border Width="170" Height="56">
            <Border.Background>
              <SolidColorBrush Color="{Binding DeviceManager.CurrentDevice.Theme.Base, FallbackValue={StaticResource ThemeColorDefault}}"/>
            </Border.Background>
          </Border>
          <Image Width="170" Height="56" HorizontalAlignment="Left" VerticalAlignment="Top" ClipToBounds="true"
                 Stretch="UniformToFill" Source="{Binding DeviceManager.CurrentDevice.MeTileImage}"/>
        </Grid>
        <Border Width="1" Background="Black"/>
        <Border Width="5">
          <Border.Background>
            <SolidColorBrush Color="{Binding DeviceManager.CurrentDevice.Theme.Base, FallbackValue={StaticResource ThemeColorDefault}}"/>
          </Border.Background>
        </Border>
      </StackPanel>
    </StackPanel>
    <Image Margin="154,48,0,0" HorizontalAlignment="Left" VerticalAlignment="Top"
           Source="/Resources/error.png" Stretch="None"
           Visibility="{Binding DeviceManager.CurrentDevice.LastSyncError, Converter={StaticResource NullToVisibilityConverter}, FallbackValue={x:Static local:ViewModel.FallbackVisibility}}"/>
    <local:Fader Margin="89,42,0,0" HorizontalAlignment="Left" VerticalAlignment="Top">
      <local:Fader.FadedVisibility>
        <MultiBinding Converter="{StaticResource DeviceFaceInfoVisibleMultiConverter}">
          <Binding Path="DeviceManager.CurrentDevice"/>
          <Binding Path="DeviceManager.CurrentDevice.LastSyncError"/>
        </MultiBinding>
      </local:Fader.FadedVisibility>
      <StackPanel HorizontalAlignment="Left" VerticalAlignment="Top" IsHitTestVisible="false"
                  Orientation="Horizontal">
        <TextBlock Margin="0,0,5,0" HorizontalAlignment="Left" VerticalAlignment="Top" FontSize="35"
                   IsHitTestVisible="false" Style="{DynamicResource BaseTextBlock}">
          <TextBlock.Text>
            <MultiBinding Converter="{StaticResource DateTimeAndFormatMultiConverter}" FallbackValue="0:00"
                          TargetNullValue="0:00">
              <Binding Path="DeviceManager.CurrentDevice.CalculatedCurrentLocalDeviceTime"/>
              <Binding Path="DeviceManager.CurrentDevice.UserProfile.DeviceSettings.LocaleSettings.TimeFormat"/>
            </MultiBinding>
          </TextBlock.Text>
        </TextBlock>
        <StackPanel Margin="0,8,0,0" HorizontalAlignment="Left" VerticalAlignment="Top" IsHitTestVisible="false">
          <TextBlock Margin="0,0,0,-12" HorizontalAlignment="Left" VerticalAlignment="Top" IsHitTestVisible="false"
                     Style="{DynamicResource BaseTextBlock}" TextAlignment="Center" TextWrapping="Wrap"
                     Text="{Binding DeviceManager.CurrentDevice.CalculatedCurrentLocalDeviceTime, Converter={StaticResource DateTimeToDOWConverter}, FallbackValue=DOW}"/>
          <TextBlock Margin="0,8,0,0" HorizontalAlignment="Left" VerticalAlignment="Top" FontSize="13"
                     IsHitTestVisible="false" Style="{DynamicResource BaseTextBlock}" TextAlignment="Center"
                     TextWrapping="Wrap"
                     Text="{Binding DeviceManager.CurrentDevice.CalculatedCurrentLocalDeviceTime, FallbackValue=15, StringFormat={0:dd}}"/>
        </StackPanel>
      </StackPanel>
    </local:Fader>
  </Grid>
</UserControl>